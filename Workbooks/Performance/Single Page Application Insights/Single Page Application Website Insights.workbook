{
    "version": "Notebook/1.0",
    "isLocked": true,
    "items": [
        {
            "type": 1,
            "content": {
                "json": "# <a name=\"initial-load-performance-insights-of-single-page-applications\"></a><span data-ttu-id=\"a84f7-101\">单页应用程序的初始加载性能见解</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-101\">Initial Load Performance Insights of Single Page Applications</span></span>\n<span data-ttu-id=\"a84f7-102\">此工作簿模板允许查看由 <a href=\"https://github.com/Microsoft/Mezzurite\">Mezzurite 计时库</a>和 <a href=\"https://github.com/Microsoft/ApplicationInsights-JS-Mezzurite\">Application Insights Mezzurite 插件</a>记录的单页应用程序 (SPA) 性能数据</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-102\">This Workbook template allows you to view your Single Page Application (SPA) performance data logged by the <a href=\"https://github.com/Microsoft/Mezzurite\">Mezzurite Timing Library</a> and the <a href=\"https://github.com/Microsoft/ApplicationInsights-JS-Mezzurite\">Application Insights Mezzurite Plugin</a></span></span>\n\n"
            },
            "conditionalVisibility": null
        },
        {
            "type": 9,
            "content": {
                "version": "KqlParameterItem/1.0",
                "query": "",
                "crossComponentResources": [],
                "parameters": [
                    {
                        "id": "e20e78fc-f0d0-40ba-b183-d68b351f91c3",
                        "version": "KqlParameterItem/1.0",
                        "name": "has_Mezzurite_Data",
                        "type": 1,
                        "isRequired": false,
                        "query": "customEvents\r\n| filter name == \"mz\"\r\n| where timestamp > ago(90d)\r\n| summarize value = tostring(sign(count()))\r\n\r\n\r\n\r\n\r\n\r\n",
                        "isHiddenWhenLocked": true,
                        "timeContextFromParameter": null,
                        "resourceType": "microsoft.insights/components"
                    }
                ],
                "style": "pills",
                "resourceType": "microsoft.insights/components"
            },
            "conditionalVisibility": null
        },
        {
            "type": 1,
            "content": {
                "json": "<p><strong><h2><span data-ttu-id=\"a84f7-103\">此工作簿无法加载，因为没有检测到 Mezzurite 计时数据。</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-103\">This workbook was unable to load because no Mezzurite Timing data was detected.</span></span></h2></strong></p>\n<p>\n<span data-ttu-id=\"a84f7-104\">若要配置 Mezzurite，请按照以下指南了解网站的具体框架实施情况</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-104\">To configure Mezzurite, please follow the guide below for your site’s specific framework Implementation</span></span>\n<ul>\n<li><span data-ttu-id=\"a84f7-105\"><a href=\"https://github.com/Microsoft/Mezzurite/blob/master/Mezzurite.React/README.md\">基于 React 的站点</a></span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-105\"><a href=\"https://github.com/Microsoft/Mezzurite/blob/master/Mezzurite.React/README.md\">React based sites</a></span></span></li>\n<li> <span data-ttu-id=\"a84f7-106\"><a href=\"https://github.com/Microsoft/Mezzurite/blob/master/Mezzurite.Angular/README.md\">基于 Angular 的站点</a></span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-106\"><a href=\"https://github.com/Microsoft/Mezzurite/blob/master/Mezzurite.Angular/README.md\">Angular based sites</a></span></span></li>\n</ul>\n\n<span data-ttu-id=\"a84f7-107\">添加 Mezzurite 计时库后，你将需要</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-107\">Once the Mezzurite Timing library is added, you will need</span></span> \n<ul>\n<li><span data-ttu-id=\"a84f7-108\"><a href=\"https://github.com/Microsoft/ApplicationInsights-JS-Mezzurite/blob/master/README.md\">在此处载步骤</a></span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-108\"><a href=\"https://github.com/Microsoft/ApplicationInsights-JS-Mezzurite/blob/master/README.md\">Onboarding steps here</a></span></span></li>\n</ul></p>\n\n<h3><span data-ttu-id=\"a84f7-109\">Mezzurite 生态系统</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-109\">Mezzurite Ecosystem</span></span></h3>\n<table>\n<tr><th><span data-ttu-id=\"a84f7-110\">Project</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-110\">Project</span></span></th><th><span data-ttu-id=\"a84f7-111\">说明</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-111\">Description</span></span></th></tr>\n<tr><td><span data-ttu-id=\"a84f7-112\"><a href=\"https://github.com/Microsoft/ApplicationInsights-JS-Mezzurite\">ApplicationInsights-JS-Mezzurite</a></span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-112\"><a href=\"https://github.com/Microsoft/ApplicationInsights-JS-Mezzurite\">ApplicationInsights-JS-Mezzurite</a></span></span></td><td><span data-ttu-id=\"a84f7-113\">用于 Mezzurite 的 <a href=\"https://github.com/Microsoft/ApplicationInsights-JS\">Application Insights</a> 插件</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-113\"><a href=\"https://github.com/Microsoft/ApplicationInsights-JS\">Application Insights</a> plugin of Mezzurite</span></span></td></tr>\n<tr><td><span data-ttu-id=\"a84f7-114\"><a href=\"https://github.com/Microsoft/Mezzurite\">Mezzurite</a></span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-114\"><a href=\"https://github.com/Microsoft/Mezzurite\">Mezzurite</a></span></span></td><td><span data-ttu-id=\"a84f7-115\">用于 Mezzurite 与 Angular、AngularJS 和 React 集成的基本 SDK</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-115\">Base SDK for Mezzurite with Angular, AngularJS and React integration</span></span></td></tr>\n<tr><td><span data-ttu-id=\"a84f7-116\"><a href=\"https://github.com/Microsoft/Mezzurite-DevTools\">Mezzurite DevTools</a></span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-116\"><a href=\"https://github.com/Microsoft/Mezzurite-DevTools\">Mezzurite DevTools</a></span></span></td><td><span data-ttu-id=\"a84f7-117\">请参阅使用浏览器扩展程序捕获的 Mezzurite 指标</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-117\">See Mezzurite metrics being captured with a browser extension</span></span></td></tr>\n<tr><td><span data-ttu-id=\"a84f7-118\"><a href=\"https://github.com/Microsoft/vscode-mezzurite\">VSCode Mezzurite</a></span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-118\"><a href=\"https://github.com/Microsoft/vscode-mezzurite\">VSCode Mezzurite</a></span></span></td><td><span data-ttu-id=\"a84f7-119\">检查 VS Code 中检测的组件和模块</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-119\">Check which components and modules are instrumented within VS Code</span></span></td></tr>\n</table>\n"
            },
            "conditionalVisibility": {
                "parameterName": "has_Mezzurite_Data",
                "comparison": "isNotEqualTo",
                "value": "1.0"
            }
        },
        {
            "type": 1,
            "content": {
                "json": "<span data-ttu-id=\"a84f7-120\"><Strong>模板的流</Strong>：</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-120\"><Strong>The flow of the template</Strong>:</span></span>\n\n1. <span data-ttu-id=\"a84f7-121\">查看路由的性能</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-121\">View the performance of your routes</span></span>\n2. <span data-ttu-id=\"a84f7-122\">选择一个路由来深入讨论诊断。</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-122\"><strong>Select a route </strong> to dive deeper into diagnostics.</span></span> \n3. <span data-ttu-id=\"a84f7-123\">提供给所选路由的图表包括：</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-123\">Charts provided for the selected route are:</span></span>\n<br>   <span data-ttu-id=\"a84f7-124\">a.</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-124\">a.</span></span> <span data-ttu-id=\"a84f7-125\">所选路由中包含的每个组件的组件加载时间</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-125\">Component Load Time for each of the components included in the selected route</span></span>\n<br>   <span data-ttu-id=\"a84f7-126\">b.</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-126\">b.</span></span> <span data-ttu-id=\"a84f7-127\">应用程序加载时间细分</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-127\">Application Load Time break down</span></span>\n\n<p><span data-ttu-id=\"a84f7-128\">**以下参数会影响以下所有图表：**</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-128\">**The below parameters affect all charts below:**</span></span></p>\n"
            },
            "conditionalVisibility": {
                "parameterName": "has_Mezzurite_Data",
                "comparison": "isEqualTo",
                "value": "1.0"
            }
        },
        {
            "type": 9,
            "content": {
                "version": "KqlParameterItem/1.0",
                "query": "",
                "crossComponentResources": [],
                "parameters": [
                    {
                        "id": "39725ecb-66f7-40c5-bae7-40bc1eef8ca7",
                        "version": "KqlParameterItem/1.0",
                        "name": "Duration",
                        "type": 4,
                        "description": "<span data-ttu-id=\"a84f7-129\">设置工作簿的时间范围</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-129\">Scopes the timeframe of the workbook</span></span>",
                        "isRequired": true,
                        "value": {
                            "durationMs": 2592000000,
                            "createdTime": "2019-02-13T20:05:00.418Z",
                            "isInitialTime": false,
                            "grain": 1,
                            "useDashboardTimeRange": false
                        },
                        "isHiddenWhenLocked": false,
                        "typeSettings": {
                            "selectableValues": [
                                {
                                    "durationMs": 3600000,
                                    "createdTime": "2019-02-13T20:05:00.416Z",
                                    "isInitialTime": false,
                                    "grain": 1,
                                    "useDashboardTimeRange": false
                                },
                                {
                                    "durationMs": 43200000,
                                    "createdTime": "2019-02-13T20:05:00.417Z",
                                    "isInitialTime": false,
                                    "grain": 1,
                                    "useDashboardTimeRange": false
                                },
                                {
                                    "durationMs": 86400000,
                                    "createdTime": "2019-02-13T20:05:00.417Z",
                                    "isInitialTime": false,
                                    "grain": 1,
                                    "useDashboardTimeRange": false
                                },
                                {
                                    "durationMs": 172800000,
                                    "createdTime": "2019-02-13T20:05:00.417Z",
                                    "isInitialTime": false,
                                    "grain": 1,
                                    "useDashboardTimeRange": false
                                },
                                {
                                    "durationMs": 604800000,
                                    "createdTime": "2019-02-13T20:05:00.417Z",
                                    "isInitialTime": false,
                                    "grain": 1,
                                    "useDashboardTimeRange": false
                                },
                                {
                                    "durationMs": 1209600000,
                                    "createdTime": "2019-02-13T20:05:00.418Z",
                                    "isInitialTime": false,
                                    "grain": 1,
                                    "useDashboardTimeRange": false
                                },
                                {
                                    "durationMs": 2592000000,
                                    "createdTime": "2019-02-13T20:05:00.418Z",
                                    "isInitialTime": false,
                                    "grain": 1,
                                    "useDashboardTimeRange": false
                                },
                                {
                                    "durationMs": 5184000000,
                                    "createdTime": "2019-02-13T20:05:00.418Z",
                                    "isInitialTime": false,
                                    "grain": 1,
                                    "useDashboardTimeRange": false
                                },
                                {
                                    "durationMs": 7776000000,
                                    "createdTime": "2019-02-13T20:05:00.418Z",
                                    "isInitialTime": false,
                                    "grain": 1,
                                    "useDashboardTimeRange": false
                                }
                            ],
                            "allowCustom": false
                        },
                        "timeContextFromParameter": null
                    },
                    {
                        "id": "6178b34a-cf9a-42cf-b4b1-3d1ec46ca34c",
                        "version": "KqlParameterItem/1.0",
                        "name": "Time_Bucket",
                        "type": 2,
                        "description": "<span data-ttu-id=\"a84f7-130\">按时间对结果分组</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-130\">Group results by time</span></span>",
                        "isRequired": true,
                        "value": "15m",
                        "isHiddenWhenLocked": false,
                        "jsonData": "[{\"value\":\"1m\",\"label\":\"Minute\"},\r\n {\"value\":\"15m\",\"label\":\"15 Minutes\"},\r\n {\"value\":\"1h\",\"label\":\"Hour\"},\r\n {\"value\":\"1d\", \"label\": \"Day\"},\r\n {\"value\":\"7d\", \"label\": \"Week\"}\r\n  ]",
                        "timeContextFromParameter": null
                    },
                    {
                        "id": "7196f5c4-bfe6-4fc0-9712-aa345a56927c",
                        "version": "KqlParameterItem/1.0",
                        "name": "Percentile",
                        "type": 2,
                        "description": "<span data-ttu-id=\"a84f7-131\">计算所有图表的百分位数</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-131\">Percentile which all charts are calcualted</span></span>",
                        "isRequired": true,
                        "value": "95",
                        "isHiddenWhenLocked": false,
                        "jsonData": "[50, 75, 90, 95, 99]",
                        "timeContextFromParameter": null
                    },
                    {
                        "id": "df4a6862-5029-42c0-9371-2fc97279e1ad",
                        "version": "KqlParameterItem/1.0",
                        "name": "Country",
                        "type": 2,
                        "description": "<span data-ttu-id=\"a84f7-132\">关注特定国家/地区到结果</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-132\">Focus the results to a specific country</span></span>",
                        "isRequired": true,
                        "query": "customEvents\r\n| where name == \"mz\"\r\n| distinct client_CountryOrRegion\r\n| project b = client_CountryOrRegion, n = client_CountryOrRegion\r\n| union (\r\ndatatable(b:string, n:string )[\r\n'*', 'All Countries'\r\n]\r\n)",
                        "value": "*",
                        "isHiddenWhenLocked": false,
                        "typeSettings": {
                            "additionalResourceOptions": []
                        },
                        "timeContext": {
                            "durationMs": 0,
                            "endTime": null,
                            "createdTime": "2019-01-30T18:31:57.571Z",
                            "isInitialTime": false,
                            "grain": 1,
                            "useDashboardTimeRange": false
                        },
                        "timeContextFromParameter": "Duration",
                        "resourceType": "microsoft.insights/components"
                    },
                    {
                        "id": "a1214636-4e9f-41b3-9502-9b42064553fa",
                        "version": "KqlParameterItem/1.0",
                        "name": "Browser",
                        "type": 2,
                        "description": "<span data-ttu-id=\"a84f7-133\">关注特定浏览器到结果</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-133\">Foucs the results to a specific browser</span></span>",
                        "isRequired": true,
                        "query": "customEvents\r\n| where name == \"mz\"\r\n| distinct client_Browser\r\n| project b = client_Browser, n = client_Browser\r\n| union (\r\ndatatable(b:string, n:string )[\r\n'*', 'All Browser Versions'\r\n]\r\n)",
                        "value": "*",
                        "isHiddenWhenLocked": false,
                        "typeSettings": {
                            "additionalResourceOptions": []
                        },
                        "timeContext": {
                            "durationMs": 0,
                            "endTime": null,
                            "createdTime": "2019-01-30T18:32:11.918Z",
                            "isInitialTime": false,
                            "grain": 1,
                            "useDashboardTimeRange": false
                        },
                        "timeContextFromParameter": "Duration",
                        "resourceType": "microsoft.insights/components"
                    }
                ],
                "style": "pills",
                "resourceType": "microsoft.insights/components"
            },
            "conditionalVisibility": {
                "parameterName": "has_Mezzurite_Data",
                "comparison": "isEqualTo",
                "value": "1.0"
            }
        },
        {
            "type": 1,
            "content": {
                "json": "<h2 style=\"text-decoration: underline; margin-bottom: 0;\"><span data-ttu-id=\"a84f7-134\">所有路由的性能</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-134\">Performance of All Routes</span></span></h2>\n<span data-ttu-id=\"a84f7-135\">这是 <strong>SPA</strong> 的登录网页，它会映射到应用程序代码中的路径名称。</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-135\">This is a landing page for your <strong>SPA</strong>, it maps to the route name in your application code.</span></span>\n<p><span data-ttu-id=\"a84f7-136\">选择下面的路由查看特定于路由的数据：</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-136\">Select a route below to view route-specific data:</span></span></p>"
            },
            "conditionalVisibility": {
                "parameterName": "has_Mezzurite_Data",
                "comparison": "isEqualTo",
                "value": "1.0"
            }
        },
        {
            "type": 3,
            "content": {
                "version": "KqlItem/1.0",
                "query": " let alt = customEvents\r\n    | where name == \"mz\"\r\n    | where isnotempty(customDimensions.RouteUrl)\r\n    | filter client_CountryOrRegion == '{Country}' or '{Country}' == '*'\r\n    | filter client_Browser == '{Browser}' or '{Browser}' == '*'\r\n    | project ALT = todouble(customMeasurements.ALT), operation_ParentId, Route = tostring(customDimensions.RouteUrl)\r\n    | summarize ALT_Count = count(), percentiles(ALT, {Percentile}) by Route;\r\n\r\nlet vlt = customEvents\r\n    | where name == \"mz\"\r\n    | where isnotempty(customMeasurements.VLT)\r\n    | where isnotempty(customDimensions.RouteUrl)\r\n    | filter client_CountryOrRegion == '{Country}' or '{Country}' == '*'\r\n    | filter client_Browser == '{Browser}' or '{Browser}' == '*'\r\n    | project VLT = todouble(customMeasurements.VLT), operation_ParentId, Route = tostring(customDimensions.RouteUrl)\r\n    | summarize VLT_Count = count(), percentiles(VLT, {Percentile}) by Route;\r\n\r\nlet flt = customEvents\r\n    | where name == \"mz\"\r\n    | where isnotempty(customMeasurements.FVLT)\r\n    | where isnotempty(customDimensions.RouteUrl)\r\n    | filter client_CountryOrRegion == '{Country}' or '{Country}' == '*'\r\n    | filter client_Browser == '{Browser}' or '{Browser}' == '*'\r\n    | project FLT = todouble(customMeasurements.FVLT), operation_ParentId, Route = tostring(customDimensions.RouteUrl)\r\n    | summarize FLT_Count = count(), percentiles(FLT, {Percentile}) by Route;\r\n\r\nalt \r\n| join vlt on Route\r\n| join flt on Route\r\n| project ['Route Name'] = Route, ['Route Traffic'] = ALT_Count, ['FLT {Percentile}th Percentile'] = round(percentile_FLT_{Percentile}, 0), ['ALT {Percentile}th Percentile'] = round(percentile_ALT_{Percentile},0), ['VLT {Percentile}th Percentile'] = round(percentile_VLT_{Percentile},0)\r\n| order by ['Route Traffic'] desc\r\n\r\n",
                "showQuery": false,
                "size": 1,
                "aggregation": 0,
                "showAnnotations": false,
                "exportFieldName": "Route Name",
                "exportParameterName": "Route",
                "showAnalytics": false,
                "timeContext": {
                    "durationMs": 0,
                    "endTime": null,
                    "createdTime": "2019-02-14T18:18:29.200Z",
                    "isInitialTime": false,
                    "grain": 1,
                    "useDashboardTimeRange": false
                },
                "timeContextFromParameter": "Duration",
                "resourceType": "microsoft.insights/components",
                "visualization": "table",
                "gridSettings": {
                    "formatters": [
                        {
                            "columnMatch": "Route Traffic",
                            "formatter": 4,
                            "formatOptions": {
                                "palette": "blueDark"
                            }
                        },
                        {
                            "columnMatch": "FLT 50th Percentile",
                            "formatter": 8,
                            "formatOptions": {
                                "palette": "greenRed"
                            },
                            "numberFormat": {
                                "unit": 23,
                                "options": {
                                    "style": "decimal",
                                    "useGrouping": true
                                }
                            }
                        },
                        {
                            "columnMatch": "ALT 50th Percentile",
                            "formatter": 8,
                            "formatOptions": {
                                "palette": "greenRed"
                            },
                            "numberFormat": {
                                "unit": 23,
                                "options": {
                                    "style": "decimal",
                                    "useGrouping": true
                                }
                            }
                        },
                        {
                            "columnMatch": "VLT 50th Percentile",
                            "formatter": 8,
                            "formatOptions": {
                                "palette": "greenRed"
                            },
                            "numberFormat": {
                                "unit": 23,
                                "options": {
                                    "style": "decimal",
                                    "useGrouping": true
                                }
                            }
                        },
                        {
                            "columnMatch": "FLT 90th Percentile",
                            "formatter": 8,
                            "formatOptions": {
                                "palette": "greenRed"
                            },
                            "numberFormat": {
                                "unit": 23,
                                "options": {
                                    "style": "decimal",
                                    "useGrouping": true
                                }
                            }
                        },
                        {
                            "columnMatch": "ALT 90th Percentile",
                            "formatter": 8,
                            "formatOptions": {
                                "palette": "greenRed"
                            },
                            "numberFormat": {
                                "unit": 23,
                                "options": {
                                    "style": "decimal",
                                    "useGrouping": true
                                }
                            }
                        },
                        {
                            "columnMatch": "VLT 90th Percentile",
                            "formatter": 8,
                            "formatOptions": {
                                "palette": "greenRed"
                            },
                            "numberFormat": {
                                "unit": 23,
                                "options": {
                                    "style": "decimal",
                                    "useGrouping": true
                                }
                            }
                        },
                        {
                            "columnMatch": "FLT 99th Percentile",
                            "formatter": 8,
                            "formatOptions": {
                                "palette": "greenRed"
                            },
                            "numberFormat": {
                                "unit": 23,
                                "options": {
                                    "style": "decimal",
                                    "useGrouping": true
                                }
                            }
                        },
                        {
                            "columnMatch": "ALT 99th Percentile",
                            "formatter": 8,
                            "formatOptions": {
                                "palette": "greenRed"
                            },
                            "numberFormat": {
                                "unit": 23,
                                "options": {
                                    "style": "decimal",
                                    "useGrouping": true
                                }
                            }
                        },
                        {
                            "columnMatch": "VLT 99th Percentile",
                            "formatter": 8,
                            "formatOptions": {
                                "palette": "greenRed"
                            },
                            "numberFormat": {
                                "unit": 23,
                                "options": {
                                    "style": "decimal",
                                    "useGrouping": true
                                }
                            }
                        },
                        {
                            "columnMatch": "FLT 95th Percentile",
                            "formatter": 8,
                            "formatOptions": {
                                "palette": "greenRed"
                            },
                            "numberFormat": {
                                "unit": 23,
                                "options": {
                                    "style": "decimal",
                                    "useGrouping": true
                                }
                            }
                        },
                        {
                            "columnMatch": "ALT 95th Percentile",
                            "formatter": 8,
                            "formatOptions": {
                                "palette": "greenRed"
                            },
                            "numberFormat": {
                                "unit": 23,
                                "options": {
                                    "style": "decimal",
                                    "useGrouping": true
                                }
                            }
                        },
                        {
                            "columnMatch": "VLT 95th Percentile",
                            "formatter": 8,
                            "formatOptions": {
                                "palette": "greenRed"
                            },
                            "numberFormat": {
                                "unit": 23,
                                "options": {
                                    "style": "decimal",
                                    "useGrouping": true
                                }
                            }
                        },
                        {
                            "columnMatch": "FLT 75th Percentile",
                            "formatter": 8,
                            "formatOptions": {
                                "palette": "greenRed"
                            },
                            "numberFormat": {
                                "unit": 23,
                                "options": {
                                    "style": "decimal",
                                    "useGrouping": true
                                }
                            }
                        },
                        {
                            "columnMatch": "ALT 75th Percentile",
                            "formatter": 8,
                            "formatOptions": {
                                "palette": "greenRed"
                            },
                            "numberFormat": {
                                "unit": 23,
                                "options": {
                                    "style": "decimal",
                                    "useGrouping": true
                                }
                            }
                        },
                        {
                            "columnMatch": "VLT 75th Percentile",
                            "formatter": 8,
                            "formatOptions": {
                                "palette": "greenRed"
                            },
                            "numberFormat": {
                                "unit": 23,
                                "options": {
                                    "style": "decimal",
                                    "useGrouping": true
                                }
                            }
                        }
                    ],
                    "filter": true
                },
                "tileSettings": {
                    "showBorder": false,
                    "titleContent": {
                        "columnMatch": "Route",
                        "formatter": 1
                    },
                    "leftContent": {
                        "columnMatch": "percentile_ALT_50",
                        "formatter": 12,
                        "formatOptions": {
                            "palette": "auto"
                        },
                        "numberFormat": {
                            "unit": 17,
                            "options": {
                                "maximumSignificantDigits": 3,
                                "maximumFractionDigits": 2
                            }
                        }
                    }
                }
            },
            "conditionalVisibility": {
                "parameterName": "has_Mezzurite_Data",
                "comparison": "isEqualTo",
                "value": "1.0"
            }
        },
        {
            "type": 1,
            "content": {
                "json": "<hr>\n<h2 style=\"text-decoration: underline; margin-bottom: 0;\"><span data-ttu-id=\"a84f7-137\">路由“{Route}”的性能</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-137\">Performance for Route \"{Route}\"</span></span></h2>\n<p><span data-ttu-id=\"a84f7-138\"><strong> FLT </strong> 提供第一次加载路线的时间长度。</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-138\">The <strong>FLT</strong> gives you the length of time of the first load of the route.</span></span>  <span data-ttu-id=\"a84f7-139\">它包括第一个 <strong>VLT</strong> 和 <strong>ALT</strong>。</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-139\">It includes the first <strong>VLT</strong> and the <strong>ALT</strong>.</span></span> </p>\n<p><span data-ttu-id=\"a84f7-140\">如果在第一次加载后点击路由，则不会有 <strong>ALT</strong>。</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-140\">If the route is hit after the first load, there won't be an <strong>ALT</strong> for it.</span></span>  <span data-ttu-id=\"a84f7-141\">将仅有 <strong>VLT</strong>。</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-141\">There will only be a <strong>VLT</strong>.</span></span></p>\n\n<p><span data-ttu-id=\"a84f7-142\">此图表提供站点的高级视图，并且可指示 <strong>VLT</strong> 或 <strong>ALT</strong> 是否已从 <strong>FLT</strong> 回归。</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-142\">This chart gives you a high-level view of your site, and can tell you if your <strong>VLT</strong> or <strong>ALT</strong> has regressed from the <strong>FLT</strong>.</span></span></p>\n<p><span data-ttu-id=\"a84f7-143\">如果 <strong>VLT</strong> 已回归，请使用“路由中加载的组件的性能”图表进一步探索页面上发生的情况</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-143\">When the <strong>VLT</strong> has regressed use the \"Performance of the Components Loaded In Route\" chart to further explore what happened on the page</span></span></p>\n\n<p><span data-ttu-id=\"a84f7-144\">对于 <strong>ALT</strong> 回归，请使用“路线的应用程序子计时的性能”来查看哪些子计时数据正在影响 <strong>ALT</strong>。</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-144\">For <strong>ALT</strong> regressions, use the \"Performance of Application Sub-Timings for Route\" to see what sub timings are affecting your <strong>ALT</strong>.</span></span></p>"
            },
            "conditionalVisibility": {
                "parameterName": "Route",
                "comparison": "isNotEqualTo",
                "value": null
            }
        },
        {
            "type": 3,
            "content": {
                "version": "KqlItem/1.0",
                "query": "\r\nlet alt = customEvents\r\n    | where name == \"mz\"\r\n    | where isnotempty(customMeasurements.ALT)\r\n    | where isnotempty(customDimensions.RouteUrl)\r\n    | filter client_CountryOrRegion == '{Country}' or '{Country}' == '*'\r\n    | filter client_Browser == '{Browser}' or '{Browser}' == '*'\r\n    | filter customDimensions.RouteUrl == '{Route}'\r\n    | project value = todouble(customMeasurements.ALT), operation_ParentId, Route = tostring(customDimensions.RouteUrl), timestamp\r\n    | summarize ['ALT Percentile (ms)'] = percentiles( value ,{Percentile}) by  bin(timestamp, {Time_Bucket});\r\n\r\nlet vlt = customEvents\r\n    | where name == \"mz\"\r\n    | where isnotempty(customMeasurements.VLT)\r\n    | where isnotempty(customDimensions.RouteUrl)\r\n    | filter client_CountryOrRegion == '{Country}' or '{Country}' == '*'\r\n    | filter client_Browser == '{Browser}' or '{Browser}' == '*'\r\n    | filter customDimensions.RouteUrl == '{Route}'\r\n    | project value = todouble(customMeasurements.VLT), operation_ParentId, Route = tostring(customDimensions.RouteUrl), timestamp\r\n    | summarize ['VLT Percentile (ms)'] = percentiles( value ,{Percentile}) by  bin(timestamp, {Time_Bucket});\r\n\r\nlet fvlt = customEvents\r\n    | where name == \"mz\"\r\n    | where isnotempty(customMeasurements.FVLT)\r\n    | where isnotempty(customDimensions.RouteUrl)\r\n    | filter client_CountryOrRegion == '{Country}' or '{Country}' == '*'\r\n    | filter client_Browser == '{Browser}' or '{Browser}' == '*'\r\n    | filter customDimensions.RouteUrl == '{Route}'\r\n    | project value = todouble(customMeasurements.FVLT), operation_ParentId, Route = tostring(customDimensions.RouteUrl), timestamp\r\n    | summarize ['FLT Percentile (ms)'] = percentiles( value ,{Percentile}) by  bin(timestamp, {Time_Bucket});\r\n\r\nfvlt\r\n| join alt on timestamp\r\n| join vlt on timestamp\r\n| project timestamp, ['FLT Percentile (ms)'], ['VLT Percentile (ms)'], ['ALT Percentile (ms)']\r\n| render timechart\r\n\r\n",
                "showQuery": false,
                "size": 0,
                "aggregation": 2,
                "showAnnotations": false,
                "showAnalytics": false,
                "timeContext": {
                    "durationMs": 0,
                    "endTime": null,
                    "createdTime": "2019-02-14T18:18:29.230Z",
                    "isInitialTime": false,
                    "grain": 1,
                    "useDashboardTimeRange": false
                },
                "timeContextFromParameter": "Duration",
                "resourceType": "microsoft.insights/components"
            },
            "conditionalVisibility": {
                "parameterName": "Route",
                "comparison": "isNotEqualTo",
                "value": null
            }
        },
        {
            "type": 1,
            "content": {
                "json": "<hr>"
            },
            "conditionalVisibility": {
                "parameterName": "Route",
                "comparison": "isNotEqualTo",
                "value": null
            }
        },
        {
            "type": 1,
            "content": {
                "json": "<h2 style=\"text-decoration: underline; margin-bottom: 0;\"><span data-ttu-id=\"a84f7-145\">路由“{Route}”中加载的组件的性能</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-145\">Performance of Components Loaded in Route \"{Route}\"</span></span></h2>\n<span data-ttu-id=\"a84f7-146\">如果 <strong>VLT</strong> 已回归，下面的图表将显示构成 <strong>VLT</strong> 时间的所有组件。</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-146\">If the <strong>VLT</strong> has regressed, the chart below will show you all the components make up the <strong>VLT</strong> time.</span></span>"
            },
            "conditionalVisibility": {
                "parameterName": "Route",
                "comparison": "isNotEqualTo",
                "value": null
            }
        },
        {
            "type": 3,
            "content": {
                "version": "KqlItem/1.0",
                "query": "customEvents\r\n  | where name == \"mz\"\r\n  | where isnotempty(customMeasurements.clt)\r\n  | where customDimensions.metricType == \"VLT\"\r\n  | where isnotempty(customDimensions.RouteUrl)\r\n  | filter client_CountryOrRegion == '{Country}' or '{Country}' == '*'\r\n  | filter client_Browser == '{Browser}' or '{Browser}' == '*'\r\n  | filter customDimensions.RouteUrl == '{Route}'\r\n  | project value = todouble(customMeasurements.clt), cName= strcat(tostring(customDimensions.componentName),\" \", '(ms)'), Route = tostring(customDimensions.RouteUrl), timestamp\r\n  | summarize percentiles(todouble(value), {Percentile}) by cName, bin(timestamp, {Time_Bucket})\r\n  | render timechart\r\n",
                "showQuery": false,
                "size": 0,
                "aggregation": 2,
                "showAnnotations": false,
                "showAnalytics": false,
                "timeContext": {
                    "durationMs": 0,
                    "endTime": null,
                    "createdTime": "2019-02-14T18:18:29.259Z",
                    "isInitialTime": false,
                    "grain": 1,
                    "useDashboardTimeRange": false
                },
                "timeContextFromParameter": "Duration",
                "resourceType": "microsoft.insights/components"
            },
            "conditionalVisibility": {
                "parameterName": "Route",
                "comparison": "isNotEqualTo",
                "value": null
            }
        },
        {
            "type": 1,
            "content": {
                "json": "<hr>"
            },
            "conditionalVisibility": {
                "parameterName": "Route",
                "comparison": "isNotEqualTo",
                "value": null
            }
        },
        {
            "type": 1,
            "content": {
                "json": "<h2 style=\"text-decoration: underline; margin-bottom: 0;\"><span data-ttu-id=\"a84f7-147\">路由“{Route}”的应用程序负载子计时的性能</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-147\">Performance of Application Load Sub-Timings for Route \"{Route}\"</span></span></h2>\n<span data-ttu-id=\"a84f7-148\">如果 <strong>ALT</strong> 已回归，将使用此图表。</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-148\">This chart is used if your <strong>ALT</strong> has regress.</span></span>  <span data-ttu-id=\"a84f7-149\">这里的计时来自浏览器的性能计时对象。</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-149\">The timings here are from the Performance timings object from the browser.</span></span>  <span data-ttu-id=\"a84f7-150\">这些子计时来自浏览器的性能导航计时，并且基于 <a href=\"https://www.w3.org/TR/2012/REC-navigation-timing-20121217/\">W3C 标准</a>。</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-150\">These sub timings come from the Perfomance Navigation timing from the browser and are based on the <a href=\"https://www.w3.org/TR/2012/REC-navigation-timing-20121217/\">W3C standards</a>.</span></span>  <span data-ttu-id=\"a84f7-151\">请参阅 <a href=\"https://github.com/Microsoft/Mezzurite\">Mezzurite GitHub</a> 获取更多详细信息。</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-151\">See the <a href=\"https://github.com/Microsoft/Mezzurite\">Mezzurite GitHub</a> for more info.</span></span>"
            },
            "conditionalVisibility": {
                "parameterName": "Route",
                "comparison": "isNotEqualTo",
                "value": null
            }
        },
        {
            "type": 3,
            "content": {
                "version": "KqlItem/1.0",
                "query": "let data = browserTimings\r\n| filter client_CountryOrRegion == '{Country}' or '{Country}' == '*'\r\n| filter client_Browser == '{Browser}' or '{Browser}' == '*'\r\n| filter url == '{Route}'\r\n| project timestamp , networkDuration , sendDuration , receiveDuration , processingDuration;\r\n\r\nlet send = data\r\n|  summarize ['Send Duration (ms)'] = percentiles(sendDuration, {Percentile}) by bin(timestamp, {Time_Bucket});\r\n\r\nlet receive = data\r\n|  summarize ['Receive Duration (ms)'] = percentiles(receiveDuration, {Percentile}) by bin(timestamp, {Time_Bucket});\r\n\r\nlet network = data\r\n|  summarize ['Network Duration (ms)'] = percentiles(networkDuration, {Percentile}) by bin(timestamp, {Time_Bucket});\r\n\r\nnetwork\r\n| join send on timestamp\r\n| join receive on timestamp\r\n| project timestamp, ['Send Duration (ms)'], ['Receive Duration (ms)'], ['Network Duration (ms)']\r\n| render timechart\r\n\r\n\r\n\r\n\r\n\r\n",
                "showQuery": false,
                "size": 0,
                "aggregation": 2,
                "showAnnotations": false,
                "showAnalytics": false,
                "timeContext": {
                    "durationMs": 0,
                    "endTime": null,
                    "createdTime": "2019-02-14T18:18:29.277Z",
                    "isInitialTime": false,
                    "grain": 1,
                    "useDashboardTimeRange": false
                },
                "timeContextFromParameter": "Duration",
                "resourceType": "microsoft.insights/components",
                "visualization": "areachart"
            },
            "conditionalVisibility": {
                "parameterName": "Route",
                "comparison": "isNotEqualTo",
                "value": null
            }
        },
        {
            "type": 1,
            "content": {
                "json": "<h1><span data-ttu-id=\"a84f7-152\">定义</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-152\">Definitions</span></span></h1>\n<p><span data-ttu-id=\"a84f7-153\"><strong>SPA：</strong>单页应用程序构建在 JavaScript 框架之上，如 Angular 或 React</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-153\"><strong>SPA:</strong> Single Page Application built on top of JavaScript frameworks like Angular or React</span></span>\n<p><span data-ttu-id=\"a84f7-154\"><strong>路由：</strong>这是针对给定页的 SPA 路由（URL 段）。</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-154\"><strong>Route:</strong> This is the SPA route (URL segment) for the given page.</span></span></p>\n<p><span data-ttu-id=\"a84f7-155\"><strong>组件：</strong>组件可以是单个 html 元素或一组元素。</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-155\"><strong>Component:</strong> A Component can be a single html element or a group of elements.</span></span> <span data-ttu-id=\"a84f7-156\">这些在 JavaScript 中进行定义，是 SPA 页面的构建基块。</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-156\">These are defined inside your JavaScript and are the building blocks for your SPA page.</span></span> <span data-ttu-id=\"a84f7-157\">一个路由中可以包含多个组件。</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-157\">A route can have more than one component inside of it.</span></span> <span data-ttu-id=\"a84f7-158\">下面的图表显示了当前所选路由中存在的所有组件的性能计时。</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-158\">The chart below shows performance timings for all components present in the currently selected route.</span></span></p>\n<p><span data-ttu-id=\"a84f7-159\"><strong>组件加载时间 (CLT)：</strong>给定组件在页面上加载所需的时间。</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-159\"><strong>Component Load Time (CLT):</strong> The time it takes for a given component to load on the page.</span></span></p>\n<p><span data-ttu-id=\"a84f7-160\"><strong>视区：</strong>可在浏览器中查看的区域。</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-160\"><strong>Viewport:</strong> The area which is viewable in your browser.</span></span></p>\n<p><span data-ttu-id=\"a84f7-161\"><strong>视区加载时间 (VLT)：</strong>从路由开始到在视区中加载最后一个组件所花费的时间。</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-161\"><strong>Viewport Load Time (VLT):</strong> The time it takes from the route start to when the last component is loaded in your viewport.</span></span></p>\n<p><span data-ttu-id=\"a84f7-162\"><strong>应用程序加载时间 (ALT)：</strong>从导航开始到路由器开始处理第一条路径所需的时间。</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-162\"><strong>Application Load Time (ALT):</strong> The time it takes from the navigation start to when your router starts processing the first route.</span></span></p>\n<p><span data-ttu-id=\"a84f7-163\"><strong>第一次加载时间 (FLT)：</strong>高级别指标是路由的<strong>应用程序加载时间</strong>和第一个<strong>视区加载时间</strong>的总和。</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-163\"><strong>First Load Time (FLT):</strong> The high level metric which is a sum of the <strong>application load time</strong> and the first <strong>viewport load time</strong> of our route.</span></span></p>\n<p><h3><span data-ttu-id=\"a84f7-164\">以下内容均来自浏览器性能计时对象</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-164\">The following are all pulled from the Browser Performance Timing object</span></span></h3></p>\n<p><span data-ttu-id=\"a84f7-165\"><strong>发送持续时间</strong>请求开始到响应开始的时间</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-165\"><strong>Send Duration</strong>Request Start to Response Start</span></span> </p>\n<p><span data-ttu-id=\"a84f7-166\"><strong>接收持续时间</strong>响应开始到响应结束的时间</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-166\"><strong>Receive Duration</strong>Responce Start to Response End</span></span></p>\n<p><span data-ttu-id=\"a84f7-167\"><strong>网络持续时间</strong>是导航开始到连接结束的时间</span><span class=\"sxs-lookup\"><span data-stu-id=\"a84f7-167\"><strong>Network Duration</strong> is Navigation Start to Connection End</span></span></p>\n<br>\n"
            },
            "conditionalVisibility": {
                "parameterName": "has_Mezzurite_Data",
                "comparison": "isEqualTo",
                "value": "1.0"
            }
        }
    ],
    "$schema": "https://github.com/Microsoft/Application-Insights-Workbooks/blob/master/schema/workbook.json"
}